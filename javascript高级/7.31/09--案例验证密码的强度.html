<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>第九块</title>
</head>
<style type="text/css">
  #dv{
    width: 300px;
    height:200px;
    position: absolute;
    left:300px;
    top:100px;
  }
  .strengthLv0 {
    height: 6px;
    width: 120px;
    border: 1px solid #ccc;
    padding: 2px;
  }

  .strengthLv1 {
    background: red;
    height: 6px;
    width: 40px;
    border: 1px solid #ccc;
    padding: 2px;
  }

  .strengthLv2 {
    background: orange;
    height: 6px;
    width: 80px;
    border: 1px solid #ccc;
    padding: 2px;
  }

  .strengthLv3 {
    background: green;
    height: 6px;
    width: 120px;
    border: 1px solid #ccc;
    padding: 2px;
  }
</style>
<body>
<div id="dv">
  <label for="pwd">密码</label>
  <input type="text" id="pwd" maxlength="16"><!--课外话题-->
  <div>
    <em>密码强度：</em>
    <em id="strength"></em>
    <div id="strengthLevel" class="strengthLv0"></div>
  </div>
</div>
<script src="../js/myid.js"></script>
<script>
  /**
   * 思路分析：
   *   密码强度分为3级
   *   只有数字、字母、特殊符号三者其中之一组成的为1级
   *   有数字、字母、特殊符号中的两样的密码组成为2级
   *   三者都有的组合为3级别
   */

   // 键盘抬起事件
   myid("pwd").onkeyup = function (){
    // 每次键盘抬起都要获取文本框中的内容，验证文本框中有什么东西，得到一个级别，然后下面的div显示相应的颜色
      if(this.value.length>=6)
      {
        var lv = getLv(this.value);
        myid("strengthLevel").className = "strengthLv"+lv;
      }else{
        myid("strengthLevel").className = "strengthLv0";
      }
   };

   // 创建一个函数判断密码相应级别
   function getLv(pwd){
    var lv = 0;//默认是0级
    // 密码中是否有数字，或者是字母，或者是特殊符号
    if(/[0-9]/.test(pwd)){
      lv++;
    }
    if(/[a-zA-Z]/.test(pwd)){
      lv++;
    }
    if(/[^0-9a-zA-Z]/.test(pwd)){
      lv++;
    }
    return lv;//最小值为1，最大值为3
   }

</script>

</body>
</html>